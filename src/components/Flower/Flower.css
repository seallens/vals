/* Responsive flower sizing via CSS custom property */
.flower-wrap {
  --flower-size: 4px;
  width: calc(var(--flower-size) * 14);
  height: calc(var(--flower-size) * 14);
  transform: rotate(0deg);
  transition:
    width 1s ease-out,
    height 1s ease-out,
    transform 1.2s cubic-bezier(0.34, 1.2, 0.64, 1),
    top 1s ease-out,
    left 1s ease-out;
}

/* Bloom: scale with viewport (clamp for all devices) */
.flower-wrap.bloom-big {
  --flower-size: clamp(28px, 12vw, 48px);
}

/* Done: flower on card â€” rotate anti-clockwise into place, then resize */
.flower-wrap.done {
  position: absolute;
  left: 50%;
  top: -1rem; /* -top-4 */
  --flower-size: clamp(18px, 5vw, 24px);
  width: clamp(100px, 28vw, 140px);
  height: clamp(72px, 22vw, 100px);
  transform: translate(-50%, 0) rotate(-360deg);
}

@media (min-width: 640px) {
  .flower-wrap.done {
    top: -1.5rem; /* -top-6 */
  }
}

.petal {
  width: calc(var(--flower-size) * 2);
  height: calc(var(--flower-size) * 4.2);
  margin-left: calc(var(--flower-size) * -1);
  margin-top: calc(var(--flower-size) * -2.1);
  transform-origin: center bottom;
  transition: opacity 0.5s ease-out, transform 0.8s cubic-bezier(0.34, 1.56, 0.64, 1);
}

.petal.done {
  width: clamp(18px, 4.5vw, 24px);
  height: clamp(32px, 8vw, 42px);
  margin-left: clamp(-9px, -2.25vw, -12px);
  margin-top: clamp(-16px, -4vw, -21px);
  transform-origin: center 100%;
}
